import{u as M,c as A,a as T,r as s,o as c,b as i,w as t,d as u,e as r,n as H,f as b,t as k,g as B,h as F,i as N,j as g,k as y,l as x,F as $,m as S,p as V}from"./index.eb8f4e47.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";const j={name:"CommonHeader",setup(){let o=M(),_=!0;const m="https://cdn2.pandaimg.com/2022/09/09/631b46c695dca.jpg";let e=()=>{o.commit("updateIsCollapse"),_=!_};const p=A(()=>o.state.currentMenu),h=T();return{imgSrc:m,handleCollapse:e,flag:_,current:p,handleLoginOut:async()=>{await o.commit("cleanMenu"),await o.commit("clearCookie"),await h.push({name:"login"})}}}},I={class:"l-content"},O=b("\u9996\u9875"),R={class:"r-content"},z={class:"el-dropdown-link"},D=["src"],E=b("\u9000\u51FA");function q(o,_,m,e,p,h){const a=s("Fold"),n=s("el-icon"),d=s("el-breadcrumb-item"),f=s("el-breadcrumb"),v=s("el-dropdown-item"),l=s("el-dropdown"),C=s("el-header");return c(),i(C,null,{default:t(()=>[u("div",I,[r(n,{size:23,class:H({arrowTransform:o.$store.state.isCollapse,arrowTransformReturn:!o.$store.state.isCollapse}),onClick:e.handleCollapse,style:{"margin-right":"8px"}},{default:t(()=>[r(a)]),_:1},8,["class","onClick"]),r(f,{separator:"/",class:""},{default:t(()=>[r(d,{to:{path:"/"}},{default:t(()=>[O]),_:1}),e.current?(c(),i(d,{key:0,to:e.current.path},{default:t(()=>[b(k(e.current.label),1)]),_:1},8,["to"])):B("",!0)]),_:1})]),u("div",R,[r(l,null,{dropdown:t(()=>[r(v,{onClick:e.handleLoginOut},{default:t(()=>[E]),_:1},8,["onClick"])]),default:t(()=>[u("span",z,[u("img",{src:e.imgSrc,alt:"",class:"user"},null,8,D)])]),_:1})])]),_:1})}const G=w(j,[["render",q],["__scopeId","data-v-970cdffe"]]);const J={name:"CommonAside",setup(){const o=M(),_=F(0),m=T(),e=o.state.menu,p=()=>e.filter(n=>!n.children),h=()=>e.filter(n=>n.children),a=n=>{m.push({name:n.name}),o.commit("selectMenu",n)};return N(()=>{const n=Math.random()*4+1;_.value=Math.floor(n)}),{noChildren:p,hasChildren:h,clickMenu:a,ran:_}}},K={style:{width:"100%","justify-content":"center"}},P=["src"];function Q(o,_,m,e,p,h){const a=s("el-menu-item"),n=s("el-menu-item-group"),d=s("el-sub-menu"),f=s("el-menu"),v=s("el-aside");return c(),i(v,{width:o.$store.state.isCollapse?"64px":"180px",style:{"border-right":"1px #d5d7e0 solid"}},{default:t(()=>[r(f,{class:"el-menu-vertical-demo",collapse:o.$store.state.isCollapse,"collapse-transition":!1,style:{"border-right":"0"}},{default:t(()=>[u("div",K,[u("img",{src:`/src/assets/image/${e.ran}.png`,alt:"",class:"asideImg"},null,8,P)]),(c(!0),g($,null,y(e.noChildren(),l=>(c(),i(a,{index:l.path,key:l.path,onClick:C=>e.clickMenu(l)},{default:t(()=>[(c(),i(x(l.icon),{class:"icons"})),u("span",null,k(l.label),1)]),_:2},1032,["index","onClick"]))),128)),(c(!0),g($,null,y(e.hasChildren(),l=>(c(),i(d,{index:l.label,key:l.path},{title:t(()=>[(c(),i(x(l.icon),{class:"icons"})),u("span",null,k(l.label),1)]),default:t(()=>[r(n,null,{default:t(()=>[(c(!0),g($,null,y(l.children,(C,L)=>(c(),i(a,{key:L,index:C.path,onClick:te=>e.clickMenu(C)},{default:t(()=>[(c(),i(x(C.icon),{class:"icons"})),u("span",null,k(C.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1024)]),_:2},1032,["index"]))),128))]),_:1},8,["collapse"])]),_:1},8,["width"])}const U=w(J,[["render",Q],["__scopeId","data-v-7d139138"]]);const W={name:"CommonTag",setup(){const o=M(),_=T(),m=S(),e=o.state.tabsList;return{tags:e,changeMenu:a=>{_.push({name:a.name})},handleClose:(a,n)=>{let d=e.length-1;o.commit("closeTag",a),a.name===m.name&&(n===d?_.push({name:e[n-1].name}):_.push({name:e[n].name}))}}}},X={class:"tags"};function Y(o,_,m,e,p,h){const a=s("el-tag");return c(),g("div",X,[(c(!0),g($,null,y(e.tags,(n,d)=>(c(),i(a,{key:n.name,closable:n.name!=="home","disable-transitions":!1,effect:o.$route.name===n.name?"dark":"plain",onClick:f=>e.changeMenu(n),onClose:f=>e.handleClose(n,d)},{default:t(()=>[b(k(n.label),1)]),_:2},1032,["closable","effect","onClick","onClose"]))),128))])}const Z=w(W,[["render",Y],["__scopeId","data-v-f75698d7"]]);const ee=V({components:{CommonHeader:G,CommonAside:U,CommonTag:Z}}),ne={class:"common-layout"};function oe(o,_,m,e,p,h){const a=s("CommonAside"),n=s("CommonHeader"),d=s("CommonTag"),f=s("router-view"),v=s("el-main"),l=s("el-container");return c(),g("div",ne,[r(l,null,{default:t(()=>[r(a,{class:"el-aside"}),r(l,null,{default:t(()=>[r(n),r(d),r(v,null,{default:t(()=>[r(f)]),_:1})]),_:1})]),_:1})])}const le=w(ee,[["render",oe],["__scopeId","data-v-5cf8e059"]]);export{le as default};
