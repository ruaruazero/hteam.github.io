import{u as F,a as y,q as C,h as M,x as h,r as _,o as U,j as x,d as t,e as l,w as r,n as k,z as v,s as q,v as S,f as w}from"./index.eb8f4e47.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";const I="/assets/log.93ede5fb.svg",B="/assets/register.99b4aaa6.svg";const N={name:"login",setup(){const n=F(),s=y(),{proxy:u}=C(),e=M(!1),p=h({email:"",password:"",str:""}),f=h({name:"",email:"",password:"",inviteCode:""}),i=async()=>{u.$refs.login.validate(async d=>{if(d){const o=g(15);p.str=o;const m=await u.$api.getMenu(p);if(m.Login){await n.commit("setMenu",m.menu),await n.commit("addMenu",s);const V=p.email.toString()+"-"+o;await n.commit("setCookie",V),await s.push({name:"home"})}else v({showClose:!0,message:m.err,type:"error"})}})},a=async()=>{u.$refs.register.validate(async d=>{if(d){const o=await u.$api.register(f);o.register||v({showClose:!0,message:o.err,type:"error"})}})},g=d=>{const o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let m="";for(let b=d;b>0;--b)m+=o[Math.floor(Math.random()*o.length)];return m};return{signUpMode:e,loginForm:p,registerForm:f,login:i,register:a}}},c=n=>(q("data-v-3b4bccc4"),n=n(),S(),n),E={class:"forms-container"},L={class:"signin-signup"},R=w("Login"),j=w("Register"),T={class:"panels-container"},A={class:"panel left-panel"},D={class:"content"},G=c(()=>t("h3",null,"ruaruazero",-1)),H=c(()=>t("p",null,"handsome",-1)),J=c(()=>t("img",{src:I,class:"image",alt:""},null,-1)),K={class:"panel right-panel"},O={class:"content"},P=c(()=>t("h3",null,"ruaruazero",-1)),Q=c(()=>t("p",null,"handsome",-1)),W=c(()=>t("img",{src:B,class:"image",alt:""},null,-1));function X(n,s,u,e,p,f){const i=_("el-input"),a=_("el-form-item"),g=_("el-button"),d=_("el-form");return U(),x("div",{class:k(["container",{"sign-up-mode":e.signUpMode}])},[t("div",E,[t("div",L,[l(d,{"label-width":"120px",class:"loginForm sign-in-form",model:e.loginForm,ref:"login"},{default:r(()=>[l(a,{label:"\u90AE\u7BB1",prop:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u90AE\u7BB1",type:"email"}]},{default:r(()=>[l(i,{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",modelValue:e.loginForm.email,"onUpdate:modelValue":s[0]||(s[0]=o=>e.loginForm.email=o)},null,8,["modelValue"])]),_:1}),l(a,{label:"\u5BC6\u7801",prop:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]},{default:r(()=>[l(i,{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",modelValue:e.loginForm.password,"onUpdate:modelValue":s[1]||(s[1]=o=>e.loginForm.password=o)},null,8,["modelValue"])]),_:1}),l(a,null,{default:r(()=>[l(g,{type:"primary",class:"submit-btn",onClick:e.login},{default:r(()=>[R]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),l(d,{"label-width":"100px",class:"registerForm sign-up-form",model:e.registerForm,ref:"register"},{default:r(()=>[l(a,{label:"\u7528\u6237\u540D",prop:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]},{default:r(()=>[l(i,{placeholder:"\u8F93\u5165\u7528\u6237\u540D",modelValue:e.registerForm.name,"onUpdate:modelValue":s[2]||(s[2]=o=>e.registerForm.name=o)},null,8,["modelValue"])]),_:1}),l(a,{label:"\u90AE\u7BB1",prop:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1",type:"email"}]},{default:r(()=>[l(i,{placeholder:"\u8F93\u5165\u90AE\u7BB1",modelValue:e.registerForm.email,"onUpdate:modelValue":s[3]||(s[3]=o=>e.registerForm.email=o)},null,8,["modelValue"])]),_:1}),l(a,{label:"\u5BC6\u7801",prop:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]},{default:r(()=>[l(i,{type:"password",placeholder:"\u8F93\u5165\u5BC6\u7801",modelValue:e.registerForm.password,"onUpdate:modelValue":s[4]||(s[4]=o=>e.registerForm.password=o)},null,8,["modelValue"])]),_:1}),l(a,{label:"\u9080\u8BF7\u7801",prop:"inviteCode",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9080\u8BF7\u7801"}]},{default:r(()=>[l(i,{placeholder:"\u8F93\u5165\u9080\u8BF7\u7801",modelValue:e.registerForm.inviteCode,"onUpdate:modelValue":s[5]||(s[5]=o=>e.registerForm.inviteCode=o)},null,8,["modelValue"])]),_:1}),l(a,null,{default:r(()=>[l(g,{type:"primary",class:"submit-btn",onClick:e.register},{default:r(()=>[j]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])]),t("div",T,[t("div",A,[t("div",D,[G,H,t("button",{class:"btn transparent",onClick:s[6]||(s[6]=o=>e.signUpMode=!e.signUpMode)},"\u6CE8\u518C")]),J]),t("div",K,[t("div",O,[P,Q,t("button",{class:"btn transparent",onClick:s[7]||(s[7]=o=>e.signUpMode=!e.signUpMode)},"\u767B\u5F55")]),W])])],2)}const $=z(N,[["render",X],["__scopeId","data-v-3b4bccc4"]]);export{$ as default};
